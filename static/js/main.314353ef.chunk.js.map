{"version":3,"sources":["serviceWorkerRegistration.js","models/index.js","OfflineMerchant.png","App.js","privacy.js","reportWebVitals.js","index.js"],"names":["Boolean","window","location","hostname","match","apipath","pollFreq","parseInt","localStorage","CowinApi","endpoint","headers","token","authorization","Promise","resolve","reject","axios","get","then","response","data","catch","error","zip","date","Observable","subscriber","req","bind","m","thisUrl","next","err","watcher","setInterval","dist","thisZurl","url","distS","console","log","this","clearInterval","authWatcher","mobile","a","post","secret","otp","txnId","otpHasKey","CryptoJS","SHA256","toString","enc","Hex","res","beneficiaries","payload","getBenefeciaries","stateId","districts","Text","Typography","TabPane","Tabs","cowinApi","Search","Input","Option","Select","promosg","text","title","tags","href","indexOf","metas","document","getElementsByTagName","version","length","getAttribute","rollbar","Rollbar","accessToken","captureUncaught","captureUnhandledRejections","filterSession","s","state","dose","vaccineType","minAge","feeType","requiredNums","selectedBeneficiaries","available_capacity","min_age_limit","fee_type","vaccine","available_capacity_dose1","available_capacity_dose2","App","props","bookingError","msg","desc","notification","message","description","bookingIntervals","map","b","urlData","moment","hour","add","format","isWatchingAvailability","bookingInProgress","isAuthenticated","districtId","otpData","vaccineCalendar","vaccineSessions","sessionBasedTracking","enableOtp","selectedTab","dates","states","districs","session","showCaptcha","captcha","bookingCaptcha","bookingCenter","showSuccessModal","appData","Object","assign","JSON","parse","setState","setStorage","getCaptcha","generateOtp","speak","getQueryObj","speech","SpeechSynthesisUtterance","lang","volume","rate","pitch","speechSynthesis","search","substring","replace","key","value","decodeURIComponent","session_id","slot","opts","body","native","vibrate","Notification","notifSound","getElementById","getBeneficiaries","trackAuth","getStates","selectState","selectDistrict","requestPermission","status","result","navigator","serviceWorker","ready","registration","showNotification","appointment_id","stringify","unsubscribe","centers","bkgInProgress","Array","isArray","c","sessions","name","pincode","address","bookingSession","clearWatch","book","cancel","centerName","benIds","sb","push","beneficiary_reference_id","slots","Math","floor","random","names","district_name","benName","maskedName","split","info","initWatch","history","pushState","errors","errorRecorded","e","ga","eventCategory","eventAction","self","initDistS","subscribe","handleNotificationS","complete","initS","initDist","handleNotification","init","authWatch","clearAuthWatch","sendNotification","style","maxWidth","overflow","marginTop","type","className","vc","ss","block_name","i","sl","center_id","fee","target","verifyOtp","getDistricts","marginBottom","parseHTML","placeholder","allowClear","autoFocus","width","enterButton","size","onSearch","center","mask","maskClosable","visible","onOk","messagesEnd","scrollIntoView","behavior","onCancel","rel","FacebookShareButton","quote","hashtag","FacebookIcon","round","TwitterShareButton","TwitterIcon","WhatsappShareButton","separator","WhatsappIcon","LinkedinShareButton","summary","LinkedinIcon","RedditShareButton","windowWidth","windowHeight","RedditIcon","TelegramShareButton","TelegramIcon","showPayTMQR","okText","footer","onClick","textAlign","src","PayTMQR","alt","defaultActiveKey","onChange","tab","defaultValue","disabled","state_id","state_name","val","d","district_id","loading","icon","CloseCircleOutlined","danger","txt","Group","marginLeft","setMinAge","disabledDate","current","startOf","id","color","renderBookingPreferences","checked","findIndex","sbs","idx","splice","vaccination_status","reload","renderTrackingSelection","renderCaptcha","renderSessionTable","renderTable","float","clear","ref","el","renderDonate","renderShare","renderModal","data-color-scheme","data-size","data-show-count","aria-label","showPrivacyPolicy","code","renderPayTMQR","React","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactGA","initialize","pageview","pathname","ReactDOM","render","StrictMode","unregister"],"mappings":"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","file":"static/js/main.314353ef.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (\r\n    // process.env.NODE_ENV === 'production' && \r\n    'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      console.log('registration', registration);\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // registerValidSW(swUrl, config);\r\n  // return;\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport { Observable } from 'rxjs';\r\nimport CryptoJS from 'crypto-js';\r\nconst apipath = `https://cdn-api.co-vin.in/api`;\r\n// const testPath = 'https://api.demo.co-vin.in/api'\r\n\r\nconst url = `https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByPin`\r\nconst zurl = `https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict`\r\nconst burl = `https://cdn-api.co-vin.in/api/v2/appointment/schedule`\r\nconst secret = \"U2FsdGVkX1+z/4Nr9nta+2DrVJSv7KS6VoQUSQ1ZXYDx/CJUkWxFYG6P3iM/VW+6jLQ9RDQVzp/RcZ8kbT41xw==\";\r\n// const pollFreq = parseInt(localStorage.pollFreq) || 3250;\r\nconst pollFreq = parseInt(localStorage.pollFreq) || 45000;\r\nexport default class CowinApi {\r\n  req(endpoint) {\r\n    let headers = {};\r\n    if (localStorage.token) {\r\n      headers.authorization = `Bearer ${localStorage.token}`;\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .get(endpoint, {headers})\r\n        .then(function (response) {\r\n          // handle success\r\n          return resolve(response.data);\r\n        })\r\n        .catch(function (error) {\r\n          // handle error\r\n          return reject(error);\r\n        });\r\n    });\r\n  }\r\n  init(zip, date) {\r\n    let headers = {};\r\n    if (localStorage.token) {\r\n      headers.authorization = `Bearer ${localStorage.token}`;\r\n    }\r\n    return new Observable((subscriber) => {\r\n      let req = this.req.bind(this);\r\n      let m = () => {\r\n        let thisUrl = url;\r\n        if(localStorage.token){\r\n          thisUrl = `https://cdn-api.co-vin.in/api/v2/appointment/sessions/calendarByPin`\r\n        }\r\n        req(`${thisUrl}?pincode=${zip}&date=${date}`)\r\n          .then((data) => {\r\n            subscriber.next(data);\r\n          })\r\n          .catch((err) => {\r\n            subscriber.error(err);\r\n          });\r\n      };\r\n      m();\r\n      this.watcher = setInterval(m, pollFreq);\r\n    });\r\n  }\r\n\r\n  initS(zip, date) {\r\n    return new Observable((subscriber) => {\r\n      let req = this.req.bind(this);\r\n      let thisUrl = `${apipath}/v2/appointment/sessions/public/findByPin?pincode=${zip}&date=${date}`;\r\n      if(localStorage.token){\r\n        thisUrl = `${apipath}/v2/appointment/sessions/findByPin?pincode=${zip}&date=${date}`\r\n      }\r\n      let m = () => {\r\n        req(thisUrl)\r\n          .then((data) => {\r\n            subscriber.next(data);\r\n          })\r\n          .catch((err) => {\r\n            subscriber.error(err);\r\n          });\r\n      };\r\n      m();\r\n      this.watcher = setInterval(m, pollFreq);\r\n    });\r\n  }\r\n\r\n  initDist(dist, date) {\r\n    return new Observable((subscriber) => {\r\n      let req = this.req.bind(this);\r\n      let thisZurl = zurl;\r\n      if(localStorage.token){\r\n        thisZurl = `https://cdn-api.co-vin.in/api/v2/appointment/sessions/calendarByDistrict`\r\n      }\r\n      let m = () => {\r\n        req(`${thisZurl}?district_id=${dist}&date=${date}`)\r\n          .then((data) => {\r\n            subscriber.next(data);\r\n          })\r\n          .catch((err) => {\r\n            subscriber.error(err);\r\n          });\r\n      };\r\n      m();\r\n      this.watcher = setInterval(m, pollFreq);\r\n    });\r\n  }\r\n  distS(url) {\r\n    let headers = {};\r\n    if (localStorage.token) {\r\n      headers.authorization = `Bearer ${localStorage.token}`;\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .get(url, { headers })\r\n        .then(function (response) {\r\n          // handle success\r\n          return resolve(response.data);\r\n        })\r\n        .catch(function (error) {\r\n          // handle error\r\n          return reject(error);\r\n        });\r\n    });\r\n  }\r\n  initDistS(dist, date) {\r\n    return new Observable((subscriber) => {\r\n      let req = this.distS.bind(this);\r\n      let thisUrl = `${apipath}/v2/appointment/sessions/public/findByDistrict?district_id=${dist}&date=${date}`\r\n      if(localStorage.token){\r\n        thisUrl = `${apipath}/v2/appointment/sessions/findByDistrict?district_id=${dist}&date=${date}`\r\n      }\r\n      let m = () => {\r\n        req(\r\n          thisUrl\r\n        )\r\n          .then((data) => {\r\n            subscriber.next(data);\r\n          })\r\n          .catch((err) => {\r\n            subscriber.error(err);\r\n          });\r\n      };\r\n      m();\r\n      this.watcher = setInterval(m, pollFreq);\r\n    });\r\n  }\r\n  clearWatch() {\r\n    console.log(this);\r\n    clearInterval(this.watcher);\r\n  }\r\n  clearAuthWatch() {\r\n    clearInterval(this.authWatcher);\r\n  }\r\n  async generateOtp(mobile) {\r\n    return await axios\r\n      .post(\"https://cdn-api.co-vin.in/api/v2/auth/generateMobileOTP\", {\r\n        mobile: mobile,\r\n        secret,\r\n      })\r\n      .then(function (response) {\r\n        return response.data;\r\n      })\r\n      .catch(function (error) {\r\n        throw error;\r\n      });\r\n  }\r\n  async verifyOtp(otp, txnId) {\r\n    let otpHasKey = CryptoJS.SHA256(otp).toString(CryptoJS.enc.Hex);\r\n    console.log(otpHasKey);\r\n    return await axios\r\n      .post(\"https://cdn-api.co-vin.in/api/v2/auth/validateMobileOtp\", {\r\n        otp: otpHasKey,\r\n        txnId: txnId,\r\n      })\r\n      .then((res) => {\r\n        return res.data;\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }\r\n  async getBenefeciaries(token) {\r\n    return await axios\r\n      .get(\"https://cdn-api.co-vin.in/api/v2/appointment/beneficiaries\", {\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n          authorization: `Bearer ${localStorage.token}`,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        return response.data.beneficiaries;\r\n      })\r\n      .catch((err) => {\r\n        // return err\r\n        throw err;\r\n      });\r\n  }\r\n\r\n  async book(payload, token) {\r\n    try{\r\n      const response = await axios\r\n      .post(burl, payload, {\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n          authorization: `Bearer ${localStorage.token}`,\r\n        },\r\n      })\r\n      if(response.data){\r\n        return response.data\r\n      }\r\n    } catch( e ){\r\n      throw e.response.data\r\n    }\r\n  }\r\n\r\n  trackAuth(token) {\r\n    return new Observable((subscriber) => {\r\n      let req = this.getBenefeciaries.bind(this);\r\n      this.authWatcher = setInterval(() => {\r\n        req(token)\r\n          .then((data) => {\r\n            subscriber.next(data);\r\n          })\r\n          .catch((err) => {\r\n            subscriber.next(\"err\");\r\n          });\r\n      }, 1000 * 60 * (15 + 0.06));\r\n    });\r\n  }\r\n  async getStates() {\r\n    return axios\r\n      .get(`${apipath}/v2/admin/location/states`)\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((err) => {\r\n        throw err;\r\n      });\r\n  }\r\n  async getDistricts(stateId) {\r\n    return axios\r\n      .get(`${apipath}/v2/admin/location/districts/${stateId}`)\r\n      .then((response) => {\r\n        return response.data.districts;\r\n      })\r\n      .catch((err) => {\r\n        throw err;\r\n      });\r\n  }\r\n\r\n  async getCaptcha() {\r\n    return await axios\r\n      .post(\r\n        \"https://cdn-api.co-vin.in/api/v2/auth/getRecaptcha\",\r\n        {},\r\n        {\r\n          headers: {\r\n            \"content-type\": \"application/json\",\r\n            authorization: `Bearer ${localStorage.token}`,\r\n          },\r\n        }\r\n      )\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((err) => {\r\n        throw err;\r\n      });\r\n  }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/OfflineMerchant.b9f1ab6b.png\";","/* eslint-disable array-callback-return */\r\nimport \"./App.css\";\r\n// import { Notifications } from \"react-push-notification\";\r\nimport { Button, Col, Input, Row, Radio, Select, Checkbox, Tabs, Modal, Typography, notification, DatePicker } from \"antd\";\r\nimport { CloseCircleOutlined } from \"@ant-design/icons\";\r\nimport React from \"react\";\r\nimport Rollbar from \"rollbar\";\r\nimport CowinApi from \"./models\";\r\n// import walletImage from './wallet.png'\r\nimport PayTMQR from './OfflineMerchant.png'\r\n// import captcha from './captcha.json';\r\nimport parseHTML from 'html-react-parser';\r\nimport privacy from './privacy';\r\nimport GitHubButton from 'react-github-btn';\r\n\r\nimport moment from \"moment\";\r\nimport {\r\n  FacebookShareButton,\r\n  WhatsappShareButton,\r\n  TwitterShareButton,\r\n  LinkedinShareButton,\r\n  TelegramShareButton,\r\n  RedditShareButton,\r\n  FacebookIcon,\r\n  LinkedinIcon,\r\n  WhatsappIcon,\r\n  TwitterIcon,\r\n  RedditIcon,\r\n  TelegramIcon\r\n\r\n} from \"react-share\"\r\nimport log from \"./logger\";\r\n\r\nconst { Text } = Typography;\r\nconst { TabPane } = Tabs;\r\nconst cowinApi = new CowinApi();\r\nconst { Search } = Input;\r\nconst { Option } = Select;       \r\n\r\n\r\nconst promosg = {\r\n  text: 'Use this link to track vaccine availability and automatically book a slot for a set of beneficiaries. The app will automatically send OTPs and speak out to tell you to enter security code at the time of booking. ',\r\n  title: 'Automated vaccine booking and availability tracking',\r\n  tags: ['covid19vaccines', 'covid19help', 'vaccination2021', 'covid19india'],\r\n  url: window.location.href.indexOf('localhost') ? 'https://yashwanthm.github.io/cowin-vaccine-booking/' : window.location.href\r\n}\r\n\r\nconst metas = document.getElementsByTagName(\"meta\");\r\nconst version = metas[metas.length-1].getAttribute(\"build-version\");\r\n\r\nconst rollbar= new Rollbar({\r\n  // accessToken: 'c667130295934cf280ef32ab70e96903', //m\r\n  accessToken: '6cc1584388304eed9bf3a32008956052', //d\r\n  captureUncaught: true,\r\n  captureUnhandledRejections: true,\r\n});\r\n\r\nconst filterSession = (s, state) => {\r\n  let { dose, vaccineType, minAge, feeType } = state;\r\n  let requiredNums = state.selectedBeneficiaries.length\r\n    ? state.selectedBeneficiaries.length\r\n    : 1;\r\n\r\n  if (s.available_capacity < requiredNums) {\r\n    return false;\r\n  }\r\n  if (parseInt(s.min_age_limit) !== minAge) {\r\n    return false;\r\n  }\r\n  if (feeType !== \"ANY\" && feeType !== s.fee_type) {\r\n    return false;\r\n  }\r\n  if (vaccineType !== \"ANY\" && vaccineType !== s.vaccine) {\r\n    return false;\r\n  }\r\n  if (\r\n    parseInt(dose) === 1 &&\r\n    parseInt(s.available_capacity_dose1) < requiredNums\r\n  ) {\r\n    return false;\r\n  }\r\n  if (\r\n    parseInt(dose) === 2 &&\r\n    parseInt(s.available_capacity_dose2) < requiredNums\r\n  ) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n};\r\nclass App extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.bookingIntervals=[];\r\n    setInterval(() => {\r\n      this.bookingIntervals.map(b=>{\r\n        clearInterval(b)\r\n      })\r\n    }, 1000);\r\n    let state = {\r\n      urlData: null,\r\n      date:\r\n        moment().hour() > 18\r\n          ? moment().add(1, \"d\").format(\"DD-MM-YYYY\")\r\n          : moment().format(\"DD-MM-YYYY\"),\r\n      isWatchingAvailability: false,\r\n      vaccineType: \"ANY\",\r\n      bookingInProgress: false,\r\n      isAuthenticated: localStorage.token ? true : false,\r\n      minAge: 15,\r\n      districtId: null,\r\n      stateId: null,\r\n      beneficiaries: [],\r\n      selectedBeneficiaries: [],\r\n      otpData: {\r\n        txnId: null,\r\n      },\r\n      vaccineCalendar: {},\r\n      vaccineSessions: null,\r\n      sessionBasedTracking: true,\r\n      zip: null,\r\n      enableOtp: false,\r\n      otp: null,\r\n      mobile: null,\r\n      feeType: \"ANY\",\r\n      token: localStorage.token || null,\r\n      selectedTab: \"1\",\r\n      dates: [],\r\n      states: [],\r\n      dose: 1,\r\n      districs: [],\r\n      session: null,\r\n      showCaptcha: false, //change to false\r\n      captcha: null, //change to null\r\n      bookingCaptcha: null,\r\n      bookingCenter: null,\r\n      showSuccessModal: false,\r\n    };\r\n    if(localStorage.appData){\r\n      try {\r\n        state = Object.assign(state, JSON.parse(localStorage.appData))  \r\n      } catch (error) {\r\n\r\n      }\r\n      \r\n      state.date = moment().hour() > 18\r\n      ? moment().add(1, \"d\").format(\"DD-MM-YYYY\")\r\n      : moment().format(\"DD-MM-YYYY\");\r\n    } \r\n    if(localStorage.token){\r\n      state.token = localStorage.token;\r\n      state.isAuthenticated = true;\r\n      state.enableOtp = false;\r\n    }\r\n    \r\n    this.state = state;\r\n  }\r\n  // async waitForOtp(){\r\n\r\n  //   // console.log('waiting for otp');\r\n  //   if(this.ac){\r\n  //     this.ac.abort();\r\n  //   }\r\n  //   if ('OTPCredential' in window) {\r\n      \r\n  //     // console.log('Waiting for SMS. Try sending yourself a following message:\\n\\n' +\r\n  //     //     'Your verification code is: 123ABC\\n\\n' +\r\n  //     //     '@whatwebcando.today #123ABC');\r\n\r\n  //         try {\r\n  //           this.ac = new AbortController();\r\n  //           const theotp = await navigator.credentials.get({\r\n  //             otp: { transport:['sms'] },\r\n  //             signal: this.ac.signal\r\n  //           }).then(otp => {\r\n\r\n  //             this.setState({otp});\r\n  //           }).catch(err => {\r\n  //           });  \r\n  //         } catch (error) {\r\n  //           console.log(error);\r\n  //         }\r\n          \r\n  //   } else {\r\n  //     // console.log('Web OTP API not supported');\r\n  //   }\r\n      \r\n  // }\r\n  getBeneficiaries(){\r\n    cowinApi.getBenefeciaries(this.state.token).then(data=>{\r\n      this.setState({beneficiaries: data},()=>{\r\n        this.setStorage();\r\n        if(this.state.urlData){\r\n          if(this.state.isAuthenticated){\r\n            this.getCaptcha()\r\n          }else if(this.state.mobile){\r\n            this.generateOtp()\r\n          }else{\r\n            this.speak(\"Please login\")\r\n          }\r\n        }\r\n      });\r\n    }).catch(err=>{\r\n      console.log('err bens', err);\r\n      delete localStorage.token;\r\n      this.setState({isAuthenticated: false, token: null, enableOtp: false},()=>{\r\n        if(this.state.mobile){\r\n          // this.generateOtp()\r\n          if(this.state.urlData){\r\n            this.getQueryObj();\r\n          }\r\n        }\r\n      })\r\n    })\r\n  }\r\n  speak(msg){\r\n    try {\r\n      let speech = new SpeechSynthesisUtterance();\r\n      speech.lang = \"en-UK\";\r\n      speech.volume = 1;\r\n      speech.rate = 1;\r\n      speech.pitch = 1; \r\n      speech.text = msg;\r\n      window.speechSynthesis.speak(speech);  \r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n      \r\n  }\r\n  getQueryObj(){\r\n    let search = window.location.search.substring(1);\r\n    if(search.length===0) return;\r\n    let urlData = JSON.parse('{\"' + search.replace(/&/g, '\",\"').replace(/=/g,'\":\"') + '\"}', function(key, value) { return key===\"\"?value:decodeURIComponent(value) })\r\n    // console.log(urlData);\r\n    if(urlData.session_id && urlData.dose && urlData.slot){\r\n      this.setState({urlData, dose: parseInt(urlData.dose)},()=>{        \r\n        \r\n      })\r\n    }\r\n  }\r\n  sendNotification(title, msg){\r\n    let opts = {\r\n      title: title,\r\n      body: msg,\r\n      native: true,\r\n      vibrate: [300, 100, 400]\r\n    };\r\n    try {\r\n      new Notification(opts.title, opts);    \r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    \r\n  }\r\n  componentDidMount(){\r\n    // const Script = document.createElement(\"script\");\r\n    // //id should be same as given to form element\r\n    // const Form = document.getElementById(\"donateForm\");\r\n    // Script.setAttribute(\r\n    //   \"src\",\r\n    //   \"https://checkout.razorpay.com/v1/payment-button.js\"\r\n    // );\r\n    // Script.setAttribute(\"data-payment_button_id\", \"pl_HIEhjEZsLX0TtO\");\r\n    // Form.appendChild(Script);\r\n    this.notifSound = document.getElementById(\"notif\");\r\n    let token = localStorage.token || this.state.token;\r\n    if(token){\r\n      this.getBeneficiaries();\r\n      this.trackAuth(token);\r\n    }\r\n\r\n    cowinApi.getStates().then(data=>{\r\n      this.setState({states: data.states},()=>{\r\n        this.selectState(this.state.stateId);\r\n        this.selectDistrict(this.state.districtId);\r\n      })\r\n    }).catch(err=>{\r\n      console.log(err);\r\n    })\r\n    \r\n    // const self = this;  \r\n    try {\r\n      Notification.requestPermission((status) => {\r\n        // console.log(\"Notification permission status:\", status);\r\n      });  \r\n    } catch (error) {\r\n      console.log(error);\r\n    }  \r\n    try {\r\n      // this.notifSound.play();  \r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n      let opts = {\r\n        title: \"Vaccine Notifications Enabled\",\r\n        body: `You now have notifications active for Covid vaccine availability`,\r\n        native: true,\r\n        vibrate: [300, 100, 400]\r\n      };\r\n      try {\r\n        Notification.requestPermission(function(result) {\r\n          // console.log('result is', result)\r\n          if (result === 'granted' && navigator.serviceWorker) {\r\n            navigator.serviceWorker.ready.then(function(registration) {\r\n              // console.log('registration i s', registration);\r\n              registration.showNotification(opts.title, opts);\r\n            });\r\n          }\r\n        });\r\n        new Notification(opts.title, opts);  \r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n\r\n      try {\r\n        this.getQueryObj();  \r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n  }\r\n  setStorage(){\r\n    let state;\r\n    try {\r\n      state = Object.assign({}, this.state)\r\n    } catch (error) {\r\n      state = this.state;\r\n    }\r\n    \r\n    delete state.enableOtp;\r\n    delete state.appointment_id;\r\n    delete state.vaccineCalendar;\r\n    delete state.vaccineSessions;\r\n    delete state.isWatchingAvailability;\r\n    delete state.urlData;\r\n    delete state.captcha;\r\n    delete state.bookingCaptcha;\r\n    localStorage.appData = JSON.stringify(state);\r\n  }\r\n  componentWillUnmount() {\r\n    // unsubscribe to ensure no memory leaks\r\n    this.setStorage();\r\n    if(this.watcher) this.watcher.unsubscribe();\r\n  }\r\n  handleNotification(){\r\n    if(!this.state.isWatchingAvailability){\r\n      return;\r\n    }\r\n    let centers = this.state.vaccineCalendar.centers;\r\n    let bkgInProgress = false;\r\n    if(!Array.isArray(centers)) return;\r\n    centers.map(c=>{\r\n      c.sessions.map(s=>{\r\n        if(!filterSession(s, this.state)){\r\n          return;\r\n        }\r\n        \r\n        if (\r\n          !this.state.bookingInProgress\r\n        ) {\r\n  \r\n          let opts = {\r\n            title: c.name,\r\n            body: `${c.pincode} ${c.address} has ${s.available_capacity} on ${s.date}`,\r\n            vibrate: [300, 100, 400],\r\n            native: true,\r\n          };\r\n          try {\r\n            Notification.requestPermission(function (result) {\r\n              if (result === \"granted\" && navigator.serviceWorker) {\r\n                navigator.serviceWorker.ready.then(function (registration) {\r\n                  registration.showNotification(opts.message, opts);\r\n                });\r\n              }\r\n            });\r\n            new Notification(opts.title, opts);\r\n          } catch (error) {\r\n            console.log(error);\r\n          }\r\n          this.speak(`Vaccines available at ${c.name}`);\r\n          \r\n          if (this.state.isAuthenticated) {\r\n            this.setState(\r\n              { bookingInProgress: true, bookingCenter: c, bookingSession: s },\r\n              () => {\r\n                if (!this.state.bookingCaptcha && !bkgInProgress) {\r\n                  // this.getCaptcha();\r\n                  bkgInProgress = true;\r\n                  this.clearWatch();\r\n                  this.book(s, c);\r\n                }\r\n              }\r\n            );\r\n          } else {\r\n            this.speak('Login to book');\r\n          }\r\n        }\r\n      })\r\n    })\r\n  }\r\n  bookingError = (msg, desc) => {\r\n    notification.error({\r\n      message: msg,\r\n      description: desc\r\n    });\r\n  };\r\n  getCaptcha(){\r\n    if(window.speechSynthesis){\r\n      window.speechSynthesis.cancel()\r\n    }\r\n    this.setState({bookingInProgress: true}, ()=>{\r\n      cowinApi.getCaptcha().then(data=>{\r\n        if(this.state.urlData){\r\n          this.speak('Please select beneficiaries');\r\n        }\r\n        let centerName;\r\n        if(this.state.bookingCenter){\r\n          centerName = this.state.bookingCenter.name\r\n        }else if(this.state.bookingSession && this.state.bookingSession.name){\r\n          centerName = this.state.bookingSession.name\r\n        }\r\n        this.speak(`Enter captcha to proceed with booking. Dose ${this.state.dose} vaccines available  ${centerName ? 'at '+centerName : ''}`)\r\n        this.setState({captcha: data.captcha, showCaptcha: true},()=>{\r\n        })\r\n      }).catch(err=>{\r\n        console.log('error getting captcha ',err)\r\n        this.setState({bookingInProgress: false, urlData: null})\r\n      })\r\n    })\r\n  }\r\n  async book(captcha){\r\n    if(window.speechSynthesis){\r\n      window.speechSynthesis.cancel()\r\n    }\r\n    \r\n    let benIds = [];\r\n    let session = this.state.bookingSession;\r\n    if(this.state.selectedBeneficiaries.length === 0){\r\n      if(!this.state.isAuthenticated){\r\n        this.setState({enableOtp: true},()=>{\r\n          this.generateOtp()\r\n        })\r\n      }\r\n      return;\r\n    }else{\r\n      this.state.selectedBeneficiaries.map(sb=>{\r\n        benIds.push(sb.beneficiary_reference_id)\r\n      })\r\n    }\r\n    \r\n    let urlData = this.state.urlData;\r\n    let dose = this.state.dose || 1;\r\n    let session_id = urlData ? urlData.session_id : session.session_id;\r\n    let slot = urlData ? urlData.slot.session : session.slots[Math.floor(Math.random() * session.slots.length)];\r\n    let payload = {\r\n      dose,\r\n      session_id,\r\n      slot,\r\n      beneficiaries: benIds,\r\n      captcha: this.state.bookingCaptcha\r\n    }\r\n    // let thisInterval = setInterval(()=>{\r\n      cowinApi.book(payload, this.state.token).then(data=>{\r\n        console.log('Booking success ', data.appointment_id);\r\n        this.speak(\"Booking Success\");\r\n        this.clearWatch();\r\n        this.setState({bookingInProgress: false, appointment_id: JSON.stringify(data), showSuccessModal: true});\r\n\r\n        let names = '';\r\n        let location = '';\r\n        \r\n        try {\r\n          if(this.state.bookingCenter){\r\n            location = this.state.bookingCenter.district_name\r\n          }\r\n          if(this.state.bookingSession && this.state.bookingSession.district_name){\r\n            location = this.state.bookingSession.district_name;\r\n          }\r\n          let benName = []\r\n          this.state.selectedBeneficiaries.map((s) => {\r\n            let maskedName = s.name.split(\" \")[0].substring(0, 5) + '***' \r\n            names = names + maskedName;\r\n            benName.push(maskedName);\r\n          });\r\n\r\n\r\n          let centerName = '';\r\n          if(this.state.bookingSession && this.state.bookingSession.name){\r\n            // let s = this.state.bookingSession\r\n            centerName = this.state.bookingSession.name;\r\n          }\r\n          if(this.state.bookingCenter){\r\n            centerName = this.state.bookingCenter.name\r\n          }\r\n\r\n          if(location !== ''){\r\n          //   log({\r\n          //     \"type\": \"booking_success\",\r\n          //     \"booking_id\": data.appointment_id,\r\n          //     \"count\": this.state.selectedBeneficiaries.length,\r\n          //     \"date\": new Date(),\r\n          //     'url': window.location.href,\r\n          //     // \"session\": this.state.bookingSession,\r\n          //     \"vaccine\": this.state.bookingSession.vaccine,\r\n          //     \"location\": location,\r\n          //     \"centerName\": centerName,\r\n          //     \"beneficiaries\": benName,\r\n          //     \"build\": version\r\n          //   })\r\n            rollbar.info(\r\n              \"booking_success \" +\r\n                names +\r\n                \" | Count -\" +\r\n                this.state.selectedBeneficiaries.length +\r\n                \"| Location - \" +\r\n                location +\r\n                \"| b-\" +\r\n                version\r\n            );\r\n          }\r\n          \r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }).catch(err=>{\r\n        this.setState({\r\n          bookingInProgress: false, \r\n          urlData: null,\r\n          session: null, \r\n          bookingCenter: null, \r\n          captcha: null, \r\n          bookingSession: null, \r\n          bookingCaptcha: null, \r\n          showCaptcha: false\r\n        });\r\n        let msg = 'Booking did not get through. ';\r\n        console.log(err);\r\n        let desc = err.error || \"The availability probably ran out before you could take an action. The app will continue to look for slots.\"\r\n        this.bookingError(msg, desc);\r\n        if(this.state.districtId || this.state.zip){\r\n          this.initWatch();\r\n        }\r\n        window.history.pushState(null, \"\", window.location.href.split(\"?\")[0]);\r\n\r\n        let errors = [];\r\n        if(localStorage.errors){\r\n          errors = JSON.parse(localStorage.errors);\r\n        }\r\n\r\n        let errorRecorded = false;\r\n        errors.map(e=>{\r\n          if(err.error === e.error){\r\n            errorRecorded = true;\r\n          }\r\n        })\r\n        if(errorRecorded === false){\r\n          errors.push(err);\r\n          localStorage.errors = JSON.stringify(errors);\r\n          // log({\r\n          //   type: \"booking_failed\",\r\n          //   errorMessage: desc,\r\n          //   error: err,\r\n          //   build: version\r\n          // });\r\n        }         \r\n        \r\n        // this.speak(msg);\r\n        // console.log(msg);\r\n      })  \r\n    // }, 100)\r\n    // if(!this.bookingIntervals){\r\n    //   this.bookingIntervals = [];\r\n    // }\r\n    // this.bookingIntervals.push(thisInterval);\r\n  }\r\n  handleNotificationS(){\r\n    if(!this.state.isWatchingAvailability){\r\n      return;\r\n    }\r\n    let sessions = this.state.vaccineSessions;\r\n    \r\n    let bkgInProgress = false;\r\n    if(!Array.isArray(sessions.sessions)) return;\r\n      sessions.sessions.map(s=>{\r\n        if(!filterSession(s, this.state)){\r\n          return null;\r\n        }\r\n        if (\r\n          !this.state.bookingInProgress\r\n        ) {\r\n          \r\n\r\n          let opts = {\r\n            title: s.name,\r\n            body: `${s.name} ${s.address} has ${s.available_capacity} on ${s.date}`,\r\n            vibrate: [300, 100, 400],\r\n            native: true,\r\n          };\r\n          try {\r\n            Notification.requestPermission(function (result) {\r\n              if (navigator.serviceWorker) {\r\n                navigator.serviceWorker.ready.then(function (registration) {\r\n                  registration.showNotification(opts.message, opts);\r\n                });\r\n              }\r\n            });\r\n            new Notification(opts.title, opts);\r\n          } catch (error) {\r\n            console.log(error);\r\n          }\r\n          this.speak(`Vaccines available at ${s.name}`);\r\n          try {\r\n            if(window.ga){\r\n              window.ga('send', 'event', {\r\n                eventCategory: 'availability',\r\n                eventAction: 'success'\r\n              });\r\n            }\r\n          } catch (error) {\r\n            \r\n          }\r\n          if (this.state.isAuthenticated) {\r\n            this.setState(\r\n              { bookingInProgress: true, bookingSession: s },\r\n              () => {\r\n                if (!this.state.bookingCaptcha && !bkgInProgress) {\r\n                  // this.getCaptcha();\r\n                  bkgInProgress = true;\r\n                  this.clearWatch();\r\n                  this.book(s);\r\n                }\r\n              }\r\n            );\r\n          } else {\r\n            this.speak('Login to book');\r\n          }\r\n        }\r\n      })\r\n  }\r\n  initDistS(){\r\n    const self = this;\r\n    this.setStorage();\r\n    this.setState({isWatchingAvailability: true});\r\n    this.watcher = cowinApi\r\n      .initDistS(this.state.districtId, this.state.date)\r\n      .subscribe({\r\n        next(data) {\r\n          self.setState({vaccineSessions: data},()=>{\r\n            self.handleNotificationS();\r\n          })\r\n        },\r\n        error(err) {\r\n          console.error(\"something wrong occurred: \" + err);\r\n        },\r\n        complete() {\r\n          // console.log(\"done\");\r\n          this.setState({ isWatchingAvailability: false });\r\n        },\r\n      });\r\n  }\r\n\r\n  initWatch(zip) {\r\n    const self = this;\r\n\r\n    this.setStorage();\r\n    this.setState({isWatchingAvailability: true});\r\n    if(this.state.sessionBasedTracking){\r\n      // this.initDistS();\r\n      // return;\r\n\r\n      if(this.state.selectedTab === \"1\"){\r\n        this.watcher = cowinApi\r\n          .initDistS(this.state.districtId, this.state.date)\r\n          .subscribe({\r\n            next(data) {\r\n              self.setState({ vaccineSessions: data }, () => {\r\n                self.handleNotificationS();\r\n              });\r\n            },\r\n            error(err) {\r\n              console.error(\"something wrong occurred: \" + err);\r\n            },\r\n            complete() {\r\n              // console.log(\"done\");\r\n              this.setState({ isWatchingAvailability: false });\r\n            },\r\n          });\r\n      }else{\r\n        this.watcher = cowinApi\r\n          .initS(this.state.zip, this.state.date)\r\n          .subscribe({\r\n            next(data) {\r\n              self.setState({ vaccineSessions: data }, () => {\r\n                self.handleNotificationS();\r\n              });\r\n            },\r\n            error(err) {\r\n              console.error(\"something wrong occurred: \" + err);\r\n            },\r\n            complete() {\r\n              // console.log(\"done\");\r\n              this.setState({ isWatchingAvailability: false });\r\n            },\r\n          });\r\n      }\r\n    }else{\r\n      if(this.state.selectedTab === \"1\"){\r\n        this.watcher = cowinApi\r\n        .initDist(this.state.districtId, this.state.date)\r\n        .subscribe({\r\n          next(data) {\r\n            self.setState({vaccineCalendar: data},()=>{\r\n              self.handleNotification();\r\n              // self.setStorage()\r\n            })\r\n          },\r\n          error(err) {\r\n            console.error(\"something wrong occurred: \" + err);\r\n          },\r\n          complete() {\r\n            // console.log(\"done\");\r\n            this.setState({ isWatchingAvailability: false });\r\n          },\r\n        });\r\n      }else{\r\n        this.watcher = cowinApi\r\n          .init(this.state.zip, this.state.date)\r\n          .subscribe({\r\n            next(data) {\r\n              self.setState({ vaccineCalendar: data }, () => {\r\n                self.handleNotification();\r\n                self.setStorage();\r\n              });\r\n            },\r\n            error(err) {\r\n              console.error(\"something wrong occurred: \" + err);\r\n            },\r\n            complete() {\r\n              console.log(\"done\");\r\n              this.setState({ isWatchingAvailability: false });\r\n            },\r\n          });\r\n      }\r\n    }\r\n    \r\n    \r\n  }\r\n  trackAuth() {\r\n    const self = this;\r\n    if(this.state.isAuthenticated===false) return;\r\n    this.authWatch = cowinApi\r\n      .trackAuth(this.state.token)\r\n      .subscribe({\r\n        next(data) {\r\n          // console.log({sdata: data})\r\n          if(Array.isArray(data)){\r\n            self.setState({beneficiaries: data})\r\n          }else{\r\n            cowinApi.clearAuthWatch();\r\n            delete localStorage.token;\r\n            self.setState({isAuthenticated: false, token: null},()=>{\r\n              if(self.state.isWatchingAvailability){\r\n                self.clearWatch();\r\n                self.initWatch();\r\n                self.generateOtp();\r\n                self.sendNotification('Session expired', 'Session expired, please login')\r\n              }\r\n              self.speak(\"Session expired!\");\r\n            })\r\n          }\r\n          \r\n        },\r\n        error(err) {\r\n          // console.error(\"something wrong occurred: \" + err);\r\n          self.speak('Session expired!');\r\n          cowinApi.clearAuthWatch();\r\n          delete localStorage.token;\r\n          self.setState({isAuthenticated: false, token: null},()=>{\r\n            if(self.state.isWatchingAvailability && !self.state.enableOtp){\r\n              self.generateOtp();\r\n              \r\n              self.speak('Session expired!');\r\n            }\r\n          })\r\n        },\r\n        complete() {\r\n          self.setState({ isWatchingAvailability: false });\r\n        },\r\n      });\r\n  }\r\n  clearWatch() {\r\n    if(window.speechSynthesis){\r\n      window.speechSynthesis.cancel();\r\n    }\r\n    cowinApi.clearWatch();\r\n    this.setState({ isWatchingAvailability: false });\r\n  }\r\n  \r\n  renderTable(){\r\n    let vaccineCalendar = this.state.vaccineCalendar;\r\n    if(!vaccineCalendar.centers){\r\n      return;\r\n    }\r\n    return (\r\n      <div style={{maxWidth: \"100%\", overflow: 'scroll'}}>\r\n        <h2 style={{ marginTop: 10 }}>Vaccination Centers & Availability Info - {this.state.date}</h2>\r\n        <Text type=\"secondary\">You will see all kinds of availability below. But, the notifications and bookings will be done for your selected preferences only.</Text>\r\n        <table className=\"table\" style={{ marginTop: 10 }}>\r\n          <tbody>\r\n          {vaccineCalendar.centers.map((vc) => {\r\n            let noAvailability = true;\r\n            vc.sessions.map((ss) => {\r\n              // eslint-disable-next-line no-unused-vars\r\n              if (ss.available_capacity > 0) noAvailability = false;\r\n            });\r\n\r\n            return (\r\n              <tr key={vc.center_id}>\r\n                <td>\r\n                  <h3>{vc.name}</h3>\r\n                  <b>Fee: {vc.fee_type}</b><br/>\r\n                  {vc.block_name}, {vc.address}, {vc.pincode}.\r\n                </td>\r\n\r\n                {false ? (\r\n                  <td>No Availability</td>\r\n                ) : (\r\n                  vc.sessions.map((s, i) => {\r\n                    // if(!filterSession(s, this.state)){\r\n                    //   return null;\r\n                    // }\r\n                    return (\r\n                      <td key={s.session_id}>\r\n                        <h4>{s.date}</h4>\r\n                        <p>{s.vaccine}</p>\r\n                        <div>\r\n                          {parseInt(s.available_capacity) > 0\r\n                            ? `${s.available_capacity} shots available for ${s.min_age_limit}+`\r\n                            : `No Availability ${s.min_age_limit}+`}\r\n                            <br/>\r\n                            Dose1 - {s.available_capacity_dose1 || 0} <br/>\r\n                            Dose2 - {s.available_capacity_dose2 || 0}\r\n                        </div>\r\n                        {parseInt(s.available_capacity > 0) ? (\r\n                          <div>\r\n                            <b>Available Slots</b>\r\n                            {s.slots.map((sl) => {\r\n                              return <Row>{sl}</Row>;\r\n                            })}\r\n                          </div>\r\n                        ) : null}\r\n                      </td>\r\n                    );\r\n                  })\r\n                )}\r\n\r\n                {/* </th> */}\r\n              </tr>\r\n            );\r\n          })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n      \r\n  }\r\n  renderSessionTable(){\r\n    if(!this.state.vaccineSessions){\r\n      return;\r\n    }\r\n    let sessions = this.state.vaccineSessions.sessions;\r\n    let anyAvailatility = false;\r\n    // sessions.map(s=>{\r\n    //   if(filterSession(s, this.state)){\r\n    //     anyAvailatility = true;\r\n    //   }\r\n    // })\r\n    anyAvailatility = true;\r\n    return (\r\n      <div style={{ maxWidth: \"100%\", overflow: \"scroll\" }}>\r\n        <h2 style={{ marginTop: 10 }}>\r\n          Vaccination Centers & Availability Info - {this.state.date}\r\n        </h2>\r\n        <Text type=\"secondary\">\r\n          You will see all kinds of availability below. But, the notifications\r\n          and bookings will be done for your selected preferences only.\r\n        </Text>\r\n        <table className=\"table\" style={{ marginTop: 10 }}>\r\n          <tbody>\r\n            {anyAvailatility ? (\r\n              sessions.map((s) => {\r\n                //display filters\r\n                // if (!filterSession(s, this.state)) {\r\n                //   return null;\r\n                // }\r\n                return (\r\n                  <td key={s.session_id}>\r\n                    <h3>{s.name}</h3>\r\n                    <b>\r\n                      Fee: {s.fee_type} - {s.fee}\r\n                    </b>\r\n                    <br />\r\n                    {s.block_name}, {s.address}, {s.pincode}.<p>{s.vaccine}</p>\r\n                    <div>\r\n                      {parseInt(s.available_capacity) > 0\r\n                        ? `${s.available_capacity} shots available for ${s.min_age_limit}+`\r\n                        : `No Availability ${s.min_age_limit}+`}\r\n                      <br />\r\n                      Dose1 - {s.available_capacity_dose1 || 0} <br />\r\n                      Dose2 - {s.available_capacity_dose2 || 0}\r\n                    </div>\r\n                    {parseInt(s.available_capacity > 0) ? (\r\n                      <div>\r\n                        <b>Available Slots</b>\r\n                        {s.slots.map((sl) => {\r\n                          return <Row>{sl}</Row>;\r\n                        })}\r\n                      </div>\r\n                    ) : null}\r\n                  </td>\r\n                );\r\n              })\r\n            ) : (\r\n              <tr>\r\n                <td>\r\n                  No vaccines avavilabile matching your preferences. Please keep\r\n                  the tracking on to auto detect availability and book if your\r\n                  login is active.\r\n                </td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n      \r\n  }\r\n  setMinAge(e){\r\n    this.setState({minAge: e.target.value});\r\n  }\r\n  generateOtp(){\r\n    \r\n    this.setState({enableOtp: true}, ()=>{\r\n      cowinApi.generateOtp(this.state.mobile).then(data=>{\r\n        // console.log(data);\r\n        this.speak(\"One Time Password has been sent to your phone. Please enter to login\");\r\n        // this.notifSound.play();  \r\n        this.setState({otpData: data, enableOtp: true});\r\n        // this.waitForOtp();\r\n      }).catch(err=>{\r\n        console.log(err);\r\n        this.setState({enableOtp: false})\r\n      })\r\n    });\r\n    \r\n  }\r\n  verifyOtp(){\r\n    cowinApi.verifyOtp(this.state.otp, this.state.otpData.txnId).then(data=>{\r\n      // console.log('otp verify ', data);\r\n      localStorage.token = data.token;\r\n      this.setState({token: data.token, isAuthenticated: true, enableOtp: false}, ()=>{\r\n        this.setStorage();\r\n        this.getBeneficiaries();\r\n        this.trackAuth(data.token);\r\n        if(this.state.isWatchingAvailability){\r\n          this.clearWatch();\r\n          this.initWatch();\r\n        }\r\n        if(this.state.selectedBeneficiaries.length===0){\r\n          this.clearWatch();\r\n        }\r\n        if(this.state.urlData){\r\n          this.getQueryObj();\r\n        }\r\n        \r\n      })\r\n    }).catch(err=>{\r\n      console.log(err);\r\n      if(this.state.isAuthenticated){\r\n        delete localStorage.appData;\r\n        delete localStorage.token;\r\n        this.setState({token: null, isAuthenticated: false});\r\n      }\r\n    })\r\n  }\r\n  selectState(stateId){\r\n    this.setState({stateId}, ()=>{\r\n      cowinApi.getDistricts(stateId).then(data=>{\r\n        this.setState({districs: data});\r\n      }).catch(err=>{\r\n        console.log(err)\r\n      })\r\n    })\r\n  }\r\n  selectDistrict(districtId){\r\n    this.setState({districtId}, ()=>{\r\n    })\r\n  }\r\n  renderCaptcha(){\r\n    if(!this.state.captcha) return;\r\n    let centerName;\r\n    if(this.state.bookingCenter){\r\n      centerName = this.state.bookingCenter.name\r\n    }else if(this.state.bookingSession && this.state.bookingSession.name){\r\n      centerName = this.state.bookingSession.name;\r\n    }\r\n    return (\r\n      <div>\r\n        <h2 style={{ marginTop: 10, marginBottom: 0 }}>Enter Captcha to book at {centerName}</h2>\r\n        <Row>\r\n          <Col>{parseHTML(this.state.captcha)}</Col>\r\n          <Search\r\n            placeholder=\"Enter Captcha\"\r\n            allowClear\r\n            autoFocus={true}\r\n            style={{width: 300, marginTop: 10}}\r\n            // value={this.state.zip}\r\n            enterButton={\"Submit & Book\"}\r\n            size=\"large\"\r\n            onSearch={(e) => {\r\n              console.log(e);\r\n              this.setState({ bookingCaptcha: e }, () => {\r\n                this.book();\r\n              });\r\n            }}\r\n          />\r\n          \r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n  renderModal(){\r\n    let center = {\r\n      name: null,\r\n      address: null\r\n    }\r\n    if(this.state.bookingSession && this.state.bookingSession.name){\r\n      let s = this.state.bookingSession\r\n      center.name = this.state.bookingSession.name;\r\n      center.address = `${s.block_name}, ${s.address}, ${s.pincode}.`;\r\n    }\r\n    if(this.state.bookingCenter){\r\n      let c = this.state.bookingCenter;\r\n      center.name = this.state.bookingCenter.name\r\n      center.address = `${c.block_name}, ${c.address}, ${c.pincode}.`;\r\n    }\r\n    if(!center.name){\r\n      return;\r\n    }\r\n    return <Modal\r\n        mask={true}\r\n        maskClosable={false}\r\n        title=\"Congrats!\"\r\n        visible={this.state.showSuccessModal}\r\n        onOk={(e) => {\r\n          // window.location='https://selfregistration.cowin.gov.in/dashboard'\r\n          this.setState({showSuccessModal: false}, ()=>{\r\n            this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\r\n          })\r\n          \r\n        }}\r\n        onCancel={(e) => {\r\n          this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\r\n          this.setState({\r\n            bookingInProgress: false, \r\n            urlData: null,\r\n            showSuccessModal: false, \r\n            bookingCenter: null, \r\n            bookingSession: null, \r\n            captcha: null, \r\n            bookingCaptcha: null,\r\n            showCaptcha: false\r\n          });\r\n        }}\r\n      >\r\n        <p>\r\n          Your vaccination slot is booked for selected beneficiaries at{\" \"}\r\n          {center.name}, {center.address}\r\n        </p>\r\n        <p>Your appointment id is {this.state.appointment_id}</p>\r\n        <p>\r\n          You can login into{\" \"}\r\n          <a\r\n            href=\"https://www.cowin.gov.in/\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            Cowin\r\n          </a>{\" \"}\r\n          to see details of your vaccincation slot.\r\n        </p>\r\n        <h2>If you have liked using this app, please consider donating and sharing a word around. You can find these options at the bottom of the page.</h2>\r\n      </Modal>;\r\n    \r\n  }\r\n  renderShare(){\r\n    return (\r\n      <div>\r\n        <FacebookShareButton\r\n          url={promosg.url}\r\n          quote={promosg.text}\r\n          hashtag={promosg.tags[0]}\r\n          className=\"Demo__some-network__share-button\"\r\n        >\r\n          <FacebookIcon size={48} round />\r\n        </FacebookShareButton>\r\n        <TwitterShareButton\r\n          url={promosg.url}\r\n          title={promosg.title}\r\n          className=\"Demo__some-network__share-button\"\r\n        >\r\n          <TwitterIcon size={48} round />\r\n        </TwitterShareButton>\r\n        <WhatsappShareButton\r\n          url={promosg.url}\r\n          title={promosg.text}\r\n          separator=\":: \"\r\n          className=\"Demo__some-network__share-button\"\r\n        >\r\n          <WhatsappIcon size={48} round />\r\n        </WhatsappShareButton>\r\n        <LinkedinShareButton\r\n          url={promosg.url}\r\n          summary={promosg.text}\r\n          className=\"Demo__some-network__share-button\"\r\n        >\r\n          <LinkedinIcon size={48} round />\r\n        </LinkedinShareButton>\r\n        <RedditShareButton\r\n          url={promosg.url}\r\n          title={promosg.text}\r\n          windowWidth={660}\r\n          windowHeight={460}\r\n          className=\"Demo__some-network__share-button\"\r\n        >\r\n          <RedditIcon size={48} round />\r\n        </RedditShareButton>\r\n\r\n        <TelegramShareButton\r\n          url={promosg.url}\r\n          title={promosg.text}\r\n          className=\"Demo__some-network__share-button\"\r\n        >\r\n          <TelegramIcon size={48} round />\r\n        </TelegramShareButton>\r\n      </div>\r\n    );\r\n  }\r\n  renderPayTMQR(){\r\n    return (\r\n      <Modal\r\n        visible={this.state.showPayTMQR}\r\n        title=\"PayTM ALL-IN-ONE QR\"\r\n        okText=\"Close\"\r\n        onCancel={e=>{this.setState({showPayTMQR: false})}}\r\n        footer={[\r\n          <Button\r\n            key=\"back\"\r\n            onClick={(e) => {\r\n              this.setState({ showPayTMQR: false });\r\n            }}\r\n          >\r\n            Okay\r\n          </Button>,\r\n        ]}\r\n      >\r\n        <div style={{ width: \"100%\", textAlign: \"center\" }}>\r\n          <img style={{ width: 300 }} src={PayTMQR} alt=\"PayTM QR Code\" />\r\n        </div>\r\n      </Modal>\r\n    );\r\n  }\r\n  renderDonate(){\r\n    return (\r\n      <div>\r\n        <h2 style={{ marginTop: 15, marginBottom: 0 }}>Sponsor/Donate</h2>\r\n        <p>\r\n          It all started out as an experiment and the response has been great\r\n          and I'd like to continue supporting this. If you've liked using this\r\n          app, please consider donating using one of the options below.\r\n        </p>\r\n        <div>\r\n          {/* <form id=\"donateForm\"></form> */}\r\n          <img style={{ width: 300 }} src={PayTMQR} alt=\"PayTM QR Code\" />\r\n          {/* <a\r\n            className=\"paytm-button\"\r\n            href=\"upi://pay?pa=paytmqr28100505010152i3ynyg1dyg@paytm&pn=Paytm%20Merchant&mc=5499&mode=02&orgid=000000&paytmqr=28100505010152I3YNYG1DYG&sign=MEUCIQCB2ibaai5dumiHg3yR/XpPBRcHPxHGe3pch1Ehmhr5GgIgJVZIzjQ+ZXBtpJHJEBVbwyR3p/gVmtZIpk7s+RL5gHk=\"\r\n            rel=\"noreferrer\"\r\n            target=\"_blank\"\r\n          >\r\n            Donate with UPI\r\n          </a> */}\r\n          {/* <Button\r\n            onClick={(e) => {\r\n              this.setState({ showPayTMQR: true });\r\n            }}\r\n            type=\"link\"\r\n          >\r\n            Show QR Code\r\n          </Button> */}\r\n        </div>\r\n        <div>\r\n          {/* <a\r\n            className=\"paypal-button\"\r\n            href=\"https://paypal.me/YashwanthMaheshwaram?locale.x=en_GB\"\r\n            rel=\"noreferrer\"\r\n            target=\"_blank\"\r\n          >\r\n            <img\r\n              className=\"paypal-button-logo paypal-button-logo-pp paypal-button-logo-gold\"\r\n              src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAyNCAzMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWluWU1pbiBtZWV0Ij4KICAgIDxwYXRoIGZpbGw9IiMwMDljZGUiIGQ9Ik0gMjAuOTA1IDkuNSBDIDIxLjE4NSA3LjQgMjAuOTA1IDYgMTkuNzgyIDQuNyBDIDE4LjU2NCAzLjMgMTYuNDExIDIuNiAxMy42OTcgMi42IEwgNS43MzkgMi42IEMgNS4yNzEgMi42IDQuNzEgMy4xIDQuNjE1IDMuNiBMIDEuMzM5IDI1LjggQyAxLjMzOSAyNi4yIDEuNjIgMjYuNyAyLjA4OCAyNi43IEwgNi45NTYgMjYuNyBMIDYuNjc1IDI4LjkgQyA2LjU4MSAyOS4zIDYuODYyIDI5LjYgNy4yMzYgMjkuNiBMIDExLjM1NiAyOS42IEMgMTEuODI1IDI5LjYgMTIuMjkyIDI5LjMgMTIuMzg2IDI4LjggTCAxMi4zODYgMjguNSBMIDEzLjIyOCAyMy4zIEwgMTMuMjI4IDIzLjEgQyAxMy4zMjIgMjIuNiAxMy43OSAyMi4yIDE0LjI1OCAyMi4yIEwgMTQuODIxIDIyLjIgQyAxOC44NDUgMjIuMiAyMS45MzUgMjAuNSAyMi44NzEgMTUuNSBDIDIzLjMzOSAxMy40IDIzLjE1MyAxMS43IDIyLjAyOSAxMC41IEMgMjEuNzQ4IDEwLjEgMjEuMjc5IDkuOCAyMC45MDUgOS41IEwgMjAuOTA1IDkuNSI+PC9wYXRoPgogICAgPHBhdGggZmlsbD0iIzAxMjE2OSIgZD0iTSAyMC45MDUgOS41IEMgMjEuMTg1IDcuNCAyMC45MDUgNiAxOS43ODIgNC43IEMgMTguNTY0IDMuMyAxNi40MTEgMi42IDEzLjY5NyAyLjYgTCA1LjczOSAyLjYgQyA1LjI3MSAyLjYgNC43MSAzLjEgNC42MTUgMy42IEwgMS4zMzkgMjUuOCBDIDEuMzM5IDI2LjIgMS42MiAyNi43IDIuMDg4IDI2LjcgTCA2Ljk1NiAyNi43IEwgOC4yNjcgMTguNCBMIDguMTczIDE4LjcgQyA4LjI2NyAxOC4xIDguNzM1IDE3LjcgOS4yOTYgMTcuNyBMIDExLjYzNiAxNy43IEMgMTYuMjI0IDE3LjcgMTkuNzgyIDE1LjcgMjAuOTA1IDEwLjEgQyAyMC44MTIgOS44IDIwLjkwNSA5LjcgMjAuOTA1IDkuNSI+PC9wYXRoPgogICAgPHBhdGggZmlsbD0iIzAwMzA4NyIgZD0iTSA5LjQ4NSA5LjUgQyA5LjU3NyA5LjIgOS43NjUgOC45IDEwLjA0NiA4LjcgQyAxMC4yMzIgOC43IDEwLjMyNiA4LjYgMTAuNTEzIDguNiBMIDE2LjY5MiA4LjYgQyAxNy40NDIgOC42IDE4LjE4OSA4LjcgMTguNzUzIDguOCBDIDE4LjkzOSA4LjggMTkuMTI3IDguOCAxOS4zMTQgOC45IEMgMTkuNTAxIDkgMTkuNjg4IDkgMTkuNzgyIDkuMSBDIDE5Ljg3NSA5LjEgMTkuOTY4IDkuMSAyMC4wNjMgOS4xIEMgMjAuMzQzIDkuMiAyMC42MjQgOS40IDIwLjkwNSA5LjUgQyAyMS4xODUgNy40IDIwLjkwNSA2IDE5Ljc4MiA0LjYgQyAxOC42NTggMy4yIDE2LjUwNiAyLjYgMTMuNzkgMi42IEwgNS43MzkgMi42IEMgNS4yNzEgMi42IDQuNzEgMyA0LjYxNSAzLjYgTCAxLjMzOSAyNS44IEMgMS4zMzkgMjYuMiAxLjYyIDI2LjcgMi4wODggMjYuNyBMIDYuOTU2IDI2LjcgTCA4LjI2NyAxOC40IEwgOS40ODUgOS41IFoiPjwvcGF0aD4KPC9zdmc+Cg\"\r\n              alt=\"donate with paypal\"\r\n              aria-label=\"pp\"\r\n            ></img>\r\n            <img\r\n              className=\"paypal-button-logo paypal-button-logo-paypal paypal-button-logo-gold\"\r\n              src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMTAwIDMyIiB4bWxucz0iaHR0cDomI3gyRjsmI3gyRjt3d3cudzMub3JnJiN4MkY7MjAwMCYjeDJGO3N2ZyIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pbllNaW4gbWVldCI+PHBhdGggZmlsbD0iIzAwMzA4NyIgZD0iTSAxMiA0LjkxNyBMIDQuMiA0LjkxNyBDIDMuNyA0LjkxNyAzLjIgNS4zMTcgMy4xIDUuODE3IEwgMCAyNS44MTcgQyAtMC4xIDI2LjIxNyAwLjIgMjYuNTE3IDAuNiAyNi41MTcgTCA0LjMgMjYuNTE3IEMgNC44IDI2LjUxNyA1LjMgMjYuMTE3IDUuNCAyNS42MTcgTCA2LjIgMjAuMjE3IEMgNi4zIDE5LjcxNyA2LjcgMTkuMzE3IDcuMyAxOS4zMTcgTCA5LjggMTkuMzE3IEMgMTQuOSAxOS4zMTcgMTcuOSAxNi44MTcgMTguNyAxMS45MTcgQyAxOSA5LjgxNyAxOC43IDguMTE3IDE3LjcgNi45MTcgQyAxNi42IDUuNjE3IDE0LjYgNC45MTcgMTIgNC45MTcgWiBNIDEyLjkgMTIuMjE3IEMgMTIuNSAxNS4wMTcgMTAuMyAxNS4wMTcgOC4zIDE1LjAxNyBMIDcuMSAxNS4wMTcgTCA3LjkgOS44MTcgQyA3LjkgOS41MTcgOC4yIDkuMzE3IDguNSA5LjMxNyBMIDkgOS4zMTcgQyAxMC40IDkuMzE3IDExLjcgOS4zMTcgMTIuNCAxMC4xMTcgQyAxMi45IDEwLjUxNyAxMy4xIDExLjIxNyAxMi45IDEyLjIxNyBaIj48L3BhdGg+PHBhdGggZmlsbD0iIzAwMzA4NyIgZD0iTSAzNS4yIDEyLjExNyBMIDMxLjUgMTIuMTE3IEMgMzEuMiAxMi4xMTcgMzAuOSAxMi4zMTcgMzAuOSAxMi42MTcgTCAzMC43IDEzLjYxNyBMIDMwLjQgMTMuMjE3IEMgMjkuNiAxMi4wMTcgMjcuOCAxMS42MTcgMjYgMTEuNjE3IEMgMjEuOSAxMS42MTcgMTguNCAxNC43MTcgMTcuNyAxOS4xMTcgQyAxNy4zIDIxLjMxNyAxNy44IDIzLjQxNyAxOS4xIDI0LjgxNyBDIDIwLjIgMjYuMTE3IDIxLjkgMjYuNzE3IDIzLjggMjYuNzE3IEMgMjcuMSAyNi43MTcgMjkgMjQuNjE3IDI5IDI0LjYxNyBMIDI4LjggMjUuNjE3IEMgMjguNyAyNi4wMTcgMjkgMjYuNDE3IDI5LjQgMjYuNDE3IEwgMzIuOCAyNi40MTcgQyAzMy4zIDI2LjQxNyAzMy44IDI2LjAxNyAzMy45IDI1LjUxNyBMIDM1LjkgMTIuNzE3IEMgMzYgMTIuNTE3IDM1LjYgMTIuMTE3IDM1LjIgMTIuMTE3IFogTSAzMC4xIDE5LjMxNyBDIDI5LjcgMjEuNDE3IDI4LjEgMjIuOTE3IDI1LjkgMjIuOTE3IEMgMjQuOCAyMi45MTcgMjQgMjIuNjE3IDIzLjQgMjEuOTE3IEMgMjIuOCAyMS4yMTcgMjIuNiAyMC4zMTcgMjIuOCAxOS4zMTcgQyAyMy4xIDE3LjIxNyAyNC45IDE1LjcxNyAyNyAxNS43MTcgQyAyOC4xIDE1LjcxNyAyOC45IDE2LjExNyAyOS41IDE2LjcxNyBDIDMwIDE3LjQxNyAzMC4yIDE4LjMxNyAzMC4xIDE5LjMxNyBaIj48L3BhdGg+PHBhdGggZmlsbD0iIzAwMzA4NyIgZD0iTSA1NS4xIDEyLjExNyBMIDUxLjQgMTIuMTE3IEMgNTEgMTIuMTE3IDUwLjcgMTIuMzE3IDUwLjUgMTIuNjE3IEwgNDUuMyAyMC4yMTcgTCA0My4xIDEyLjkxNyBDIDQzIDEyLjQxNyA0Mi41IDEyLjExNyA0Mi4xIDEyLjExNyBMIDM4LjQgMTIuMTE3IEMgMzggMTIuMTE3IDM3LjYgMTIuNTE3IDM3LjggMTMuMDE3IEwgNDEuOSAyNS4xMTcgTCAzOCAzMC41MTcgQyAzNy43IDMwLjkxNyAzOCAzMS41MTcgMzguNSAzMS41MTcgTCA0Mi4yIDMxLjUxNyBDIDQyLjYgMzEuNTE3IDQyLjkgMzEuMzE3IDQzLjEgMzEuMDE3IEwgNTUuNiAxMy4wMTcgQyA1NS45IDEyLjcxNyA1NS42IDEyLjExNyA1NS4xIDEyLjExNyBaIj48L3BhdGg+PHBhdGggZmlsbD0iIzAwOWNkZSIgZD0iTSA2Ny41IDQuOTE3IEwgNTkuNyA0LjkxNyBDIDU5LjIgNC45MTcgNTguNyA1LjMxNyA1OC42IDUuODE3IEwgNTUuNSAyNS43MTcgQyA1NS40IDI2LjExNyA1NS43IDI2LjQxNyA1Ni4xIDI2LjQxNyBMIDYwLjEgMjYuNDE3IEMgNjAuNSAyNi40MTcgNjAuOCAyNi4xMTcgNjAuOCAyNS44MTcgTCA2MS43IDIwLjExNyBDIDYxLjggMTkuNjE3IDYyLjIgMTkuMjE3IDYyLjggMTkuMjE3IEwgNjUuMyAxOS4yMTcgQyA3MC40IDE5LjIxNyA3My40IDE2LjcxNyA3NC4yIDExLjgxNyBDIDc0LjUgOS43MTcgNzQuMiA4LjAxNyA3My4yIDYuODE3IEMgNzIgNS42MTcgNzAuMSA0LjkxNyA2Ny41IDQuOTE3IFogTSA2OC40IDEyLjIxNyBDIDY4IDE1LjAxNyA2NS44IDE1LjAxNyA2My44IDE1LjAxNyBMIDYyLjYgMTUuMDE3IEwgNjMuNCA5LjgxNyBDIDYzLjQgOS41MTcgNjMuNyA5LjMxNyA2NCA5LjMxNyBMIDY0LjUgOS4zMTcgQyA2NS45IDkuMzE3IDY3LjIgOS4zMTcgNjcuOSAxMC4xMTcgQyA2OC40IDEwLjUxNyA2OC41IDExLjIxNyA2OC40IDEyLjIxNyBaIj48L3BhdGg+PHBhdGggZmlsbD0iIzAwOWNkZSIgZD0iTSA5MC43IDEyLjExNyBMIDg3IDEyLjExNyBDIDg2LjcgMTIuMTE3IDg2LjQgMTIuMzE3IDg2LjQgMTIuNjE3IEwgODYuMiAxMy42MTcgTCA4NS45IDEzLjIxNyBDIDg1LjEgMTIuMDE3IDgzLjMgMTEuNjE3IDgxLjUgMTEuNjE3IEMgNzcuNCAxMS42MTcgNzMuOSAxNC43MTcgNzMuMiAxOS4xMTcgQyA3Mi44IDIxLjMxNyA3My4zIDIzLjQxNyA3NC42IDI0LjgxNyBDIDc1LjcgMjYuMTE3IDc3LjQgMjYuNzE3IDc5LjMgMjYuNzE3IEMgODIuNiAyNi43MTcgODQuNSAyNC42MTcgODQuNSAyNC42MTcgTCA4NC4zIDI1LjYxNyBDIDg0LjIgMjYuMDE3IDg0LjUgMjYuNDE3IDg0LjkgMjYuNDE3IEwgODguMyAyNi40MTcgQyA4OC44IDI2LjQxNyA4OS4zIDI2LjAxNyA4OS40IDI1LjUxNyBMIDkxLjQgMTIuNzE3IEMgOTEuNCAxMi41MTcgOTEuMSAxMi4xMTcgOTAuNyAxMi4xMTcgWiBNIDg1LjUgMTkuMzE3IEMgODUuMSAyMS40MTcgODMuNSAyMi45MTcgODEuMyAyMi45MTcgQyA4MC4yIDIyLjkxNyA3OS40IDIyLjYxNyA3OC44IDIxLjkxNyBDIDc4LjIgMjEuMjE3IDc4IDIwLjMxNyA3OC4yIDE5LjMxNyBDIDc4LjUgMTcuMjE3IDgwLjMgMTUuNzE3IDgyLjQgMTUuNzE3IEMgODMuNSAxNS43MTcgODQuMyAxNi4xMTcgODQuOSAxNi43MTcgQyA4NS41IDE3LjQxNyA4NS43IDE4LjMxNyA4NS41IDE5LjMxNyBaIj48L3BhdGg+PHBhdGggZmlsbD0iIzAwOWNkZSIgZD0iTSA5NS4xIDUuNDE3IEwgOTEuOSAyNS43MTcgQyA5MS44IDI2LjExNyA5Mi4xIDI2LjQxNyA5Mi41IDI2LjQxNyBMIDk1LjcgMjYuNDE3IEMgOTYuMiAyNi40MTcgOTYuNyAyNi4wMTcgOTYuOCAyNS41MTcgTCAxMDAgNS42MTcgQyAxMDAuMSA1LjIxNyA5OS44IDQuOTE3IDk5LjQgNC45MTcgTCA5NS44IDQuOTE3IEMgOTUuNCA0LjkxNyA5NS4yIDUuMTE3IDk1LjEgNS40MTcgWiI+PC9wYXRoPjwvc3ZnPg\"\r\n              alt=\"Donate with paypal\"\r\n              aria-label=\"paypal\"\r\n            ></img>{\" \"}\r\n            Donate\r\n          </a> */}\r\n          {/* <p style={{ marginTop: 10, marginBottom: 0, fontWeight: \"bold\" }}>\r\n            Crypto Wallet\r\n          </p>\r\n          <img style={{ width: 100 }} src={walletImage} alt=\"crypto-wallet\" /> */}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  renderTrackingSelection(){\r\n    if(this.state.urlData){\r\n      return;\r\n    }\r\n    return <div>\r\n      <h2 style={{ marginTop: 15, marginBottom: 0 }}>\r\n              Select Location for Vaccination\r\n            </h2>\r\n            <Tabs\r\n              defaultActiveKey={this.state.selectedTab || \"1\"}\r\n              onChange={(e) => {\r\n                this.setState({ selectedTab: e });\r\n              }}\r\n            >\r\n              <TabPane tab=\"Track By District\" key={1}>\r\n                <Select\r\n                  style={{ width: 234 }}\r\n                  size=\"large\"\r\n                  defaultValue={this.state.stateId}\r\n                  disabled={this.state.isWatchingAvailability}\r\n                  onChange={this.selectState.bind(this)}\r\n                  placeholder=\"Select State\"\r\n                >\r\n                  {this.state.states.map((s) => {\r\n                    return (\r\n                      <Option key={s.state_id} value={s.state_id}>\r\n                        {s.state_name}\r\n                      </Option>\r\n                    );\r\n                  })}\r\n                </Select>\r\n\r\n                <Select\r\n                  style={{ width: 234 }}\r\n                  defaultValue={this.state.districtId}\r\n                  disabled={this.state.isWatchingAvailability}\r\n                  size=\"large\"\r\n                  onChange={(val) => {\r\n                    this.selectDistrict(val);\r\n                  }}\r\n                  placeholder=\"Select District\"\r\n                >\r\n                  {this.state.districs.map((d) => {\r\n                    return (\r\n                      <Option key={d.district_id} value={d.district_id}>\r\n                        {d.district_name}\r\n                      </Option>\r\n                    );\r\n                  })}\r\n                </Select>\r\n                <Button\r\n                  type=\"primary\"\r\n                  size=\"large\"\r\n                  loading={this.state.isWatchingAvailability}\r\n                  onClick={(e) => this.initWatch()}\r\n                >\r\n                  {this.state.isWatchingAvailability\r\n                    ? \"Tracking\"\r\n                    : this.state.isAuthenticated\r\n                    ? \"Track Availability & Auto-Book for selected preferences\"\r\n                    : \"Track Availability\"}\r\n                </Button>\r\n                {this.state.isWatchingAvailability ? (\r\n                  <Button\r\n                    type=\"primary\"\r\n                    icon={<CloseCircleOutlined />}\r\n                    size={\"large\"}\r\n                    danger\r\n                    onClick={this.clearWatch.bind(this)}\r\n                  >\r\n                    Stop\r\n                  </Button>\r\n                ) : null}\r\n              </TabPane>\r\n              <TabPane tab=\"Track By Pincode\" key={2}>\r\n                <Row>\r\n                  <Search\r\n                    disabled={this.state.isWatchingAvailability}\r\n                    placeholder={\r\n                      this.state.zip\r\n                        ? this.state.zip\r\n                        : \"Enter your area pincode\"\r\n                    }\r\n                    allowClear\r\n                    defaultValue={this.state.zip || null}\r\n                    type=\"number\"\r\n                    // value={this.state.zip}\r\n                    enterButton={\r\n                      this.state.isWatchingAvailability\r\n                        ? `Tracking`\r\n                        : this.state.isAuthenticated\r\n                        ? \"Track Availability & Auto-Book for selected preferences\"\r\n                        : \"Track Availability\"\r\n                    }\r\n                    size=\"large\"\r\n                    loading={this.state.isWatchingAvailability}\r\n                    onSearch={(txt) => {\r\n                      this.setState(\r\n                        { zip: txt, isWatchingAvailability: true },\r\n                        () => {\r\n                          this.initWatch();\r\n                        }\r\n                      );\r\n                    }}\r\n                  />\r\n                  {this.state.isWatchingAvailability ? (\r\n                    <Button\r\n                      type=\"primary\"\r\n                      icon={<CloseCircleOutlined />}\r\n                      size={\"large\"}\r\n                      danger\r\n                      onClick={this.clearWatch.bind(this)}\r\n                    >\r\n                      Stop\r\n                    </Button>\r\n                  ) : null}\r\n                </Row>\r\n              </TabPane>\r\n            </Tabs>\r\n    </div>\r\n  }\r\n  renderBookingPreferences(){\r\n    if(this.state.urlData) return;\r\n    return (\r\n      <div>\r\n        <h2 style={{  marginBottom: 0 }}>Vaccination Preferences</h2>\r\n        <Row style={{ marginTop: 10 }}>\r\n          <h3 style={{ marginTop: 5, marginBottom: 0 }}>Vaccine Type</h3>\r\n          <Radio.Group\r\n            style={{ marginTop: 7, marginLeft: 10 }}\r\n            onChange={(e) => {\r\n              this.setState({ vaccineType: e.target.value });\r\n            }}\r\n            value={this.state.vaccineType}\r\n            disabled={this.state.isWatchingAvailability}\r\n          >\r\n            <Radio value={\"ANY\"}>Any</Radio>\r\n            <Radio value={\"COVAXIN\"}>Covaxin</Radio>\r\n            <Radio value={\"COVISHIELD\"}>Covishield</Radio>\r\n            <Radio value={\"SPUTNIK V\"}>Sputnik V</Radio>\r\n            \r\n\r\n          </Radio.Group>\r\n        </Row>\r\n\r\n        <Row style={{ marginTop: 10 }}>\r\n          <h3 style={{ marginTop: 10, marginBottom: 0 }}>Age Group</h3>\r\n          <Radio.Group\r\n            style={{ marginTop: 12, marginLeft: 10 }}\r\n            onChange={this.setMinAge.bind(this)}\r\n            value={this.state.minAge}\r\n            disabled={this.state.isWatchingAvailability}\r\n          >\r\n            <Radio value={15}>15 to 18 Years</Radio>\r\n            <Radio value={18}>18 to 45 Years</Radio>\r\n            <Radio value={45}>45+ Years</Radio>\r\n          </Radio.Group>\r\n        </Row>\r\n\r\n        <Row style={{ marginTop: 10 }}>\r\n          <h3 style={{ marginTop: 10, marginBottom: 0 }}>Fee Type</h3>\r\n          <Radio.Group\r\n            style={{ marginTop: 12, marginLeft: 10 }}\r\n            onChange={(e) => {\r\n              this.setState({ feeType: e.target.value });\r\n            }}\r\n            value={this.state.feeType}\r\n            disabled={this.state.isWatchingAvailability}\r\n          >\r\n            <Radio value={\"ANY\"}>Any</Radio>\r\n            <Radio value={\"Free\"}>Free</Radio>\r\n            <Radio value={\"Paid\"}>Paid</Radio>\r\n          </Radio.Group>\r\n        </Row>\r\n\r\n        <Row style={{ marginTop: 5 }}>\r\n          <h3 style={{ marginTop: 10, marginBottom: 0 }}>Dose</h3>\r\n          <Radio.Group\r\n            style={{ marginTop: 12, marginLeft: 10 }}\r\n            onChange={(e) => {\r\n              this.setState({ dose: e.target.value });\r\n            }}\r\n            defaultValue={1}\r\n            value={this.state.dose}\r\n            disabled={this.state.isWatchingAvailability}\r\n          >\r\n            <Radio value={1}>Dose 1</Radio>\r\n            <Radio value={2}>Dose 2</Radio>\r\n          </Radio.Group>\r\n        </Row>\r\n        <Row style={{ marginTop: 5 }}>\r\n          <h3 style={{ marginTop: 10, marginBottom: 0 }}>Date</h3>\r\n          <DatePicker disabled={this.state.isWatchingAvailability} defaultValue={moment().hour()>18 ? moment().add(1, 'd') : moment()} disabledDate={(current) =>{\r\n            return current < moment().startOf('day');\r\n          }} style={{marginLeft: 10}} onChange={e=>{\r\n            if(e && e.format){\r\n              this.setState({date: e.format(\"DD-MM-YYYY\")});\r\n            }\r\n            \r\n          }} />\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n  render() {\r\n    // const vaccineCalendar = this.state.vaccineCalendar;\r\n    const isAuthenticated = this.state.isAuthenticated;\r\n    var {beneficiaries, selectedBeneficiaries} = this.state;\r\n    // if(!Array.isArray(beneficiaries)){\r\n    //   beneficiaries = [];\r\n    // }\r\n    return (\r\n      <div className=\"App\">\r\n        {/* <Notifications /> */}\r\n        <audio id=\"notif\">\r\n          <source src=\"https://assets.coderrocketfuel.com/pomodoro-times-up.mp3\"></source>\r\n        </audio>\r\n        <header className=\"App-header\">\r\n          <h1>\r\n            Covid-19 automatic vaccine bookings and availability tracking in\r\n            India\r\n          </h1>\r\n          <p>\r\n            This web-app can continously track for availability of vaccine and\r\n            proceed with booking on your behalf if you are logged in. <br />\r\n          </p>\r\n          <p style={{ color: \"#555\" }}>\r\n            Please register on{\" \"}\r\n            <a\r\n              href=\"https://www.cowin.gov.in/\"\r\n              target=\"_blank\"\r\n              rel=\"noreferrer\"\r\n            >\r\n              Cowin\r\n            </a>\r\n            {\", \"}\r\n            add beneficiaries and then, come back here for automated bookings.\r\n            <br />\r\n            For automatic bookings, login, select beneficiaries, keep feeding in\r\n            OTPs every few mins. When there's availability, the app will\r\n            automatically attempt for a booking based on your preferences. When\r\n            there's availability, you will have to enter captcha code if it is\r\n            required. The app will speak out for ANY inputs(OTP and Captcha)\r\n            required. For more information, please see the{\" \"}\r\n            <a\r\n              href=\"https://github.com/yashwanthm/cowin-vaccine-booking/wiki/Usage-Guide\"\r\n              target=\"_blank\"\r\n              rel=\"noreferrer\"\r\n            >\r\n              Help/Usage Guide\r\n            </a>\r\n            <br />\r\n          </p>\r\n          <b style={{ color: \"#555\" }}>Important things to note:</b>\r\n          <ol style={{ color: \"#555\" }}>\r\n            <li>\r\n              This app is currently in the approval process with and the\r\n              application is approved. Please see{\" \"}\r\n              <a\r\n                href=\"https://github.com/yashwanthm/cowin-vaccine-booking/issues/95\"\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n              >\r\n                Status of Approval\r\n              </a>\r\n              .\r\n            </li>\r\n            <li>\r\n              If you have an issue about getting blocked, please add a comment\r\n              here{\" \"}\r\n              <a\r\n                href=\"https://github.com/yashwanthm/cowin-vaccine-booking/issues/96\"\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n              >\r\n                https://github.com/yashwanthm/cowin-vaccine-booking/issues/96\r\n              </a>{\" \"}\r\n              along with clear details explaining your usage pattern.\r\n            </li>\r\n            <li>\r\n              If you are on mobile, please make sure that the browser doesn't go\r\n              into background or your screen gets locked. If that happens, the\r\n              tracking will pause automatically. If that happens, please close\r\n              the browser in the background only before opening it.\r\n            </li>\r\n            <li>\r\n              The app could automatically book when availability is detected.\r\n              Please be sure of your vaccination preferences before you start\r\n              tracking.\r\n            </li>\r\n          </ol>\r\n        </header>\r\n\r\n        {/* <Col style={{ marginBottom: 10 }}>\r\n          {this.state.isWatchingAvailability ? null : (\r\n            <title>Select age group for getting notifications</title>\r\n          )}\r\n        </Col> */}\r\n        <Row>\r\n          <Col>\r\n            {this.renderBookingPreferences()}\r\n            {isAuthenticated ? null : (\r\n              <div style={{ marginTop: 20 }}>\r\n                <h2>Login</h2>\r\n                {this.state.enableOtp ? null : (\r\n                  <Search\r\n                    placeholder={\r\n                      this.state.mobile ? this.state.mobile : \"Mobile Number\"\r\n                    }\r\n                    allowClear\r\n                    defaultValue={this.state.mobile || null}\r\n                    type=\"number\"\r\n                    // value={this.state.mobile}\r\n                    enterButton={\"Generate OTP\"}\r\n                    size=\"large\"\r\n                    onSearch={(e) => {\r\n                      this.setState(\r\n                        {\r\n                          mobile: e === \"\" ? this.state.mobile : e,\r\n                          enableOtp: true,\r\n                        },\r\n                        () => {\r\n                          this.generateOtp();\r\n                        }\r\n                      );\r\n                    }}\r\n                  />\r\n                )}\r\n                {this.state.enableOtp ? (\r\n                  <span>\r\n                    <Search\r\n                      placeholder=\"Enter OTP\"\r\n                      allowClear\r\n                      type=\"number\"\r\n                      autoFocus={true}\r\n                      // value={this.state.zip}\r\n                      enterButton={\"Submit\"}\r\n                      size=\"large\"\r\n                      onSearch={(e) => {\r\n                        this.setState({ otp: e }, () => {\r\n                          this.verifyOtp();\r\n                        });\r\n                      }}\r\n                    />\r\n                    <Button\r\n                      danger\r\n                      onClick={(e) => {\r\n                        this.setState({ enableOtp: false });\r\n                      }}\r\n                      type=\"link\"\r\n                    >\r\n                      Cancel\r\n                    </Button>\r\n                  </span>\r\n                ) : null}\r\n              </div>\r\n            )}\r\n\r\n            {isAuthenticated ? (\r\n              <div>\r\n                <h2>Beneficiaries</h2>\r\n                {beneficiaries.length === 0 ? (\r\n                  <p>\r\n                    You do not have ANY benificiares added yet. Please login to{\" \"}\r\n                    <a\r\n                      href=\"https://www.cowin.gov.in/\"\r\n                      target=\"_blank\"\r\n                      rel=\"noreferrer\"\r\n                    >\r\n                      Cowin\r\n                    </a>{\" \"}\r\n                    and add beneficiaries\r\n                  </p>\r\n                ) : (\r\n                  <p>\r\n                    Select beneficiaries to book a slot automatically when\r\n                    there's availability. This app can continuously track\r\n                    availability and make a booking.\r\n                  </p>\r\n                )}\r\n                {beneficiaries.map((b) => {\r\n                  return (\r\n                    <Row key={b.beneficiary_reference_id}>\r\n                      <Checkbox\r\n                        disabled={this.state.isWatchingAvailability}\r\n                        checked={\r\n                          selectedBeneficiaries.findIndex((sb) => {\r\n                            return (\r\n                              sb.beneficiary_reference_id ===\r\n                              b.beneficiary_reference_id\r\n                            );\r\n                          }) !== -1\r\n                        }\r\n                        onClick={(e) => {\r\n                          let sbs = this.state.selectedBeneficiaries;\r\n                          let idx = sbs.findIndex((sb) => {\r\n                            return (\r\n                              sb.beneficiary_reference_id ===\r\n                              b.beneficiary_reference_id\r\n                            );\r\n                          });\r\n                          if (idx === -1) {\r\n                            sbs.push(b);\r\n                          } else {\r\n                            sbs.splice(idx, 1);\r\n                          }\r\n                          this.setState({ selectedBeneficiaries: sbs });\r\n                          this.setStorage();\r\n                        }}\r\n                      >\r\n                        {b.name} -{\" \"}\r\n                        <i style={{ color: \"#999\" }}>\r\n                          {b.vaccination_status}{\" \"}\r\n                          {b.vaccine !== \"\" ? `with ${b.vaccine}` : null}\r\n                        </i>\r\n                      </Checkbox>\r\n                    </Row>\r\n                  );\r\n                })}\r\n                <Button\r\n                  type=\"link\"\r\n                  danger\r\n                  onClick={(e) => {\r\n                    delete localStorage.token;\r\n                    delete localStorage.appData;\r\n                    window.location.reload();\r\n                  }}\r\n                  rel=\"noreferrer\"\r\n                  target=\"_blank\"\r\n                >\r\n                  Logout\r\n                </Button>{\" \"}\r\n              </div>\r\n            ) : null}\r\n\r\n            <Checkbox\r\n              style={{ marginTop: 15 }}\r\n              checked={this.state.sessionBasedTracking}\r\n              onClick={(e) => {\r\n                this.clearWatch();\r\n                this.setState({\r\n                  sessionBasedTracking: !this.state.sessionBasedTracking,\r\n                });\r\n              }}\r\n            >\r\n              Search for selected date only (Alternate tracking mode)\r\n            </Checkbox>\r\n            <br />\r\n            <Text type=\"secondary\">\r\n              (Use this in case you think that the app is not picking up\r\n              availability. If you are tracking ANY telegram channels and the\r\n              app doesn't pick up the avaiable slot within seconds, toggle this\r\n              and track again to detect availability instantly. When alternate\r\n              tracking is disabled, the app can track up to 7 days from the\r\n              selected date.)\r\n            </Text>\r\n\r\n            {this.renderTrackingSelection()}\r\n\r\n            {/* <Col>\r\n              {this.state.isWatchingAvailability ? (\r\n                <Button\r\n                  type=\"primary\"\r\n                  icon={<CloseCircleOutlined />}\r\n                  size={\"large\"}\r\n                  danger\r\n                  onClick={this.clearWatch.bind(this)}\r\n                >\r\n                  Stop\r\n                </Button>\r\n              ) : null}\r\n            </Col> */}\r\n          </Col>\r\n        </Row>\r\n\r\n        {this.state.showCaptcha ? this.renderCaptcha() : null}\r\n\r\n        {this.state.sessionBasedTracking\r\n          ? this.renderSessionTable()\r\n          : this.renderTable()}\r\n\r\n        <div\r\n          style={{ float: \"left\", clear: \"both\" }}\r\n          ref={(el) => {\r\n            this.messagesEnd = el;\r\n          }}\r\n        ></div>\r\n        {this.renderDonate()}\r\n\r\n        <h3 style={{ marginTop: 15, marginBottom: 0 }}>Share</h3>\r\n        {/* <FacebookShareButton quote={promosg.text} hashtag={promosg.tags[0]}/> */}\r\n        {this.renderShare()}\r\n\r\n        <div style={{ marginTop: 10 }}></div>\r\n\r\n        {this.renderModal()}\r\n\r\n        <div>\r\n          <Row>\r\n            <GitHubButton\r\n              href=\"https://github.com/yashwanthm/cowin-vaccine-booking\"\r\n              data-color-scheme=\"no-preference: dark; light: light; dark: dark_dimmed;\"\r\n              data-size=\"large\"\r\n              data-show-count=\"true\"\r\n              aria-label=\"Star yashwanthm/cowin-vaccine-booking on GitHub\"\r\n            >\r\n              Star\r\n            </GitHubButton>\r\n            <Button\r\n              type=\"link\"\r\n              href=\"https://github.com/yashwanthm/cowin-vaccine-booking/issues\"\r\n              rel=\"noreferrer\"\r\n              target=\"_blank\"\r\n            >\r\n              Report an issue\r\n            </Button>{\" \"}\r\n            <Button\r\n              type=\"link\"\r\n              href=\"https://github.com/yashwanthm/cowin-vaccine-booking/\"\r\n              rel=\"noreferrer\"\r\n              target=\"_blank\"\r\n            >\r\n              Git Repo is here\r\n            </Button>\r\n            <Button\r\n              type=\"link\"\r\n              onClick={(e) => {\r\n                this.setState({ showPrivacyPolicy: true });\r\n              }}\r\n            >\r\n              Privacy Policy\r\n            </Button>\r\n            <Button\r\n              type=\"link\"\r\n              href=\"https://5c0x1zkltbk.typeform.com/to/s3Vo8L6E\"\r\n              rel=\"noreferrer\"\r\n              target=\"_blank\"\r\n            >\r\n              Contact\r\n            </Button>\r\n          </Row>\r\n        </div>\r\n        <Text code>Build last updated at: {version}</Text>\r\n\r\n        <Modal\r\n          title=\"\"\r\n          okText=\"Close\"\r\n          footer={[\r\n            <Button\r\n              key=\"back\"\r\n              onClick={(e) => {\r\n                this.setState({ showPrivacyPolicy: false });\r\n              }}\r\n            >\r\n              Close\r\n            </Button>,\r\n          ]}\r\n          visible={this.state.showPrivacyPolicy}\r\n          onOk={(e) => {\r\n            this.setState({ showPrivacyPolicy: false });\r\n          }}\r\n        >\r\n          {parseHTML(privacy)}\r\n        </Modal>\r\n        {this.renderPayTMQR()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","const privacy = `<h2>Privacy Policy</h2><p>Your privacy is important to us. It is Cowin Automatic Vaccine Booking&#39;s policy to respect your privacy and comply with any applicable law and regulation regarding any personal information we may collect about you, including across our website, <a href=\"https://yashwanthm.github.io/cowin-vaccine-booking/\">https://yashwanthm.github.io/cowin-vaccine-booking/</a>, and other sites we own and operate.</p><p>This policy is effective as of 13 May 2021 and was last updated on 13 May 2021.</p><h3>Information We Collect</h3><p>Information we collect includes both information you knowingly and actively provide us when using or participating in any of our services and promotions, and any information automatically sent by your devices in the course of accessing our products and services.</p><h4>Log Data</h4><p>When you visit our website, our servers may automatically log the standard data provided by your web browser. It may include your devices Internet Protocol (IP) address, your browser type and version, the pages you visit, the time and date of your visit, the time spent on each page, other details about your visit, and technical details that occur in conjunction with any errors you may encounter.</p><p>Please be aware that while this information may not be personally identifying by itself, it may be possible to combine it with other data to personally identify individual persons.</p><h4>Personal Information</h4><p>We may ask for personal information which may include one or more of the following:</p><ul><li>Phone/mobile number</li></ul><h4>Legitimate Reasons for Processing Your Personal Information</h4><p>We only collect and use your personal information when we have a legitimate reason for doing so. In which instance, we only collect personal information that is reasonably necessary to provide our services to you.</p><h4>Collection and Use of Information</h4><p>We may collect personal information from you when you do any of the following on our website:</p><ul><li>Use a mobile device or web browser to access our content</li><li>Contact us via email, social media, or on any similar technologies</li><li>When you mention us on social media</li></ul><p>We may collect, hold, use, and disclose information for the following purposes, and personal information will not be further processed in a manner that is incompatible with these purposes:</p><p>Please be aware that we may combine information we collect about you with general information or research data we receive from other trusted sources.</p><h4>Security of Your Personal Information</h4><p>When we collect and process personal information, and while we retain this information, we will protect it within commercially acceptable means to prevent loss and theft, as well as unauthorized access, disclosure, copying, use, or modification.</p><p>Although we will do our best to protect the personal information you provide to us, we advise that no method of electronic transmission or storage is 100% secure, and no one can guarantee absolute data security. We will comply with laws applicable to us in respect of any data breach.</p><p>You are responsible for selecting any password and its overall security strength, ensuring the security of your own information within the bounds of our services.</p><h4>How Long We Keep Your Personal Information</h4><p>We keep your personal information only for as long as we need to. This time period may depend on what we are using your information for, in accordance with this privacy policy. If your personal information is no longer required, we will delete it or make it anonymous by removing all details that identify you.</p><p>However, if necessary, we may retain your personal information for our compliance with a legal, accounting, or reporting obligation or for archiving purposes in the public interest, scientific, or historical research purposes or statistical purposes.</p><h3>Childrens Privacy</h3><p>We do not aim any of our products or services directly at children under the age of 13, and we do not knowingly collect personal information about children under 13.</p><h3>International Transfers of Personal Information</h3><p>The personal information we collect is stored and/or processed where we or our partners, affiliates, and third-party providers maintain facilities. Please be aware that the locations to which we store, process, or transfer your personal information may not have the same data protection laws as the country in which you initially provided the information. If we transfer your personal information to third parties in other countries: (i) we will perform those transfers in accordance with the requirements of applicable law; and (ii) we will protect the transferred personal information in accordance with this privacy policy.</p><h3>Your Rights and Controlling Your Personal Information</h3><p>You always retain the right to withhold personal information from us, with the understanding that your experience of our website may be affected. We will not discriminate against you for exercising any of your rights over your personal information. If you do provide us with personal information you understand that we will collect, hold, use and disclose it in accordance with this privacy policy. You retain the right to request details of any personal information we hold about you.</p><p>If we receive personal information about you from a third party, we will protect it as set out in this privacy policy. If you are a third party providing personal information about somebody else, you represent and warrant that you have such persons consent to provide the personal information to us.</p><p>If you have previously agreed to us using your personal information for direct marketing purposes, you may change your mind at any time. We will provide you with the ability to unsubscribe from our email-database or opt out of communications. Please be aware we may need to request specific information from you to help us confirm your identity.</p><p>If you believe that any information we hold about you is inaccurate, out of date, incomplete, irrelevant, or misleading, please contact us using the details provided in this privacy policy. We will take reasonable steps to correct any information found to be inaccurate, incomplete, misleading, or out of date.</p><p>If you believe that we have breached a relevant data protection law and wish to make a complaint, please contact us using the details below and provide us with full details of the alleged breach. We will promptly investigate your complaint and respond to you, in writing, setting out the outcome of our investigation and the steps we will take to deal with your complaint. You also have the right to contact a regulatory body or data protection authority in relation to your complaint.</p><h3>Limits of Our Policy</h3><p>Our website may link to external sites that are not operated by us. Please be aware that we have no control over the content and policies of those sites, and cannot accept responsibility or liability for their respective privacy practices.</p><h3>Changes to This Policy</h3><p>At our discretion, we may change our privacy policy to reflect updates to our business processes, current acceptable practices, or legislative or regulatory changes. If we decide to change this privacy policy, we will post the changes here at the same link by which you are accessing this privacy policy.</p><p>If required by law, we will get your permission or give you the opportunity to opt in to or opt out of, as applicable, any new uses of your personal information.</p><h3>Contact Us</h3><p>For any questions or concerns regarding your privacy, you may contact us using the following details:</p><p>Yashwanth Maheshwaram<br /> https://yashwanthm.github.io/cowin-vaccine-booking/issues/</p>`\r\n\r\nexport default privacy;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ReactGA from 'react-ga';\r\n\r\nReactGA.initialize('G-GS2F4HCX5T');\r\nReactGA.pageview(window.location.pathname + window.location.search);\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nserviceWorkerRegistration.unregister();\r\n// serviceWorkerRegistration.register();\r\nreportWebVitals();\r\n"],"sourceRoot":""}